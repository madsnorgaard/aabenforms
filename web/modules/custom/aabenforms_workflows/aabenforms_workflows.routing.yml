aabenforms_workflows.template_browser:
  path: '/admin/aabenforms/workflow-templates'
  defaults:
    _controller: '\Drupal\aabenforms_workflows\Controller\TemplateBrowserController::browse'
    _title: 'Workflow Templates'
  requirements:
    _permission: 'administer workflows'

aabenforms_workflows.template_wizard:
  path: '/admin/aabenforms/workflow-templates/wizard'
  defaults:
    _form: '\Drupal\aabenforms_workflows\Form\WorkflowTemplateWizardForm'
    _title: 'Create Workflow from Template'
  requirements:
    _permission: 'administer workflows'

aabenforms_workflows.template_preview:
  path: '/admin/aabenforms/workflow-templates/preview/{template_id}'
  defaults:
    _controller: '\Drupal\aabenforms_workflows\Controller\TemplateBrowserController::templatePreview'
    _title: 'Template Preview'
  requirements:
    _permission: 'administer workflows'

aabenforms_workflows.template_select:
  path: '/admin/config/workflow/aabenforms/templates'
  defaults:
    _form: '\Drupal\aabenforms_workflows\Form\TemplateSelectForm'
    _title: 'BPMN Workflow Templates (Legacy)'
  requirements:
    _permission: 'administer workflows'

aabenforms_workflows.instance_delete:
  path: '/admin/aabenforms/workflow-templates/delete/{workflow_id}'
  defaults:
    _form: '\Drupal\aabenforms_workflows\Form\WorkflowInstanceDeleteForm'
    _title: 'Delete Workflow Instance'
  requirements:
    _permission: 'administer workflows'

aabenforms_workflows.parent_approval:
  path: '/parent-approval/{parent_number}/{submission_id}/{token}'
  defaults:
    _controller: '\Drupal\aabenforms_workflows\Controller\ParentApprovalController::approvalPage'
    _title: 'Parent Approval'
  requirements:
    _permission: 'access content'
    parent_number: '1|2'

aabenforms_workflows.parent_approval_complete:
  path: '/parent-approval/complete/{action}'
  defaults:
    _controller: '\Drupal\aabenforms_workflows\Controller\ParentApprovalController::completePage'
    _title: 'Approval Complete'
  requirements:
    _permission: 'access content'
    action: 'approve|reject'

aabenforms_workflows.wizard_autosave:
  path: '/admin/aabenforms/workflow-templates/wizard/autosave'
  defaults:
    _controller: '\Drupal\aabenforms_workflows\Controller\BpmnEditorController::autosave'
  requirements:
    _permission: 'administer workflows'
  options:
    _ajax_route: TRUE

aabenforms_workflows.wizard_validate:
  path: '/admin/aabenforms/workflow-templates/wizard/validate'
  defaults:
    _controller: '\Drupal\aabenforms_workflows\Controller\BpmnEditorController::validate'
  requirements:
    _permission: 'administer workflows'
  options:
    _ajax_route: TRUE

aabenforms_workflows.wizard_export:
  path: '/admin/aabenforms/workflow-templates/wizard/export'
  defaults:
    _controller: '\Drupal\aabenforms_workflows\Controller\BpmnEditorController::export'
  requirements:
    _permission: 'administer workflows'

aabenforms_workflows.wizard_generate_svg:
  path: '/admin/aabenforms/workflow-templates/wizard/generate-svg'
  defaults:
    _controller: '\Drupal\aabenforms_workflows\Controller\BpmnEditorController::generateSvg'
  requirements:
    _permission: 'administer workflows'
  options:
    _ajax_route: TRUE
